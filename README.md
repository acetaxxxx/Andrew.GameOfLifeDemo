# Andrew.GameOfLifeDemo

這是個練習 OOP 觀念的題目。取材自 computer sciense 的經典練習題: [康威生命遊戲](https://zh.wikipedia.org/wiki/%E5%BA%B7%E5%A8%81%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F)。

計算的規則請參考上面的網頁介紹，本練習分成四個里程碑，分別定義如下:



## Milestone 1, 基本練習

沒有特別的要求，目的是讓你暖暖身，熟悉一下題目的規則用的。
請按照 branch:main 提供的 GameHost1/Program.cs ，將你的 code 填入 TimePassRule() 內:

```csharp

public static bool TimePassRule(bool[,] area)
{
    // TODO: fill your code here
    return area[1, 1];
}

```

編譯成功後，執行應該能夠看到細胞演進過程。請確認能通過所有的單元測試為過關。


## Milestone 2, OOP 版本

請用 OOP 的觀念來重新開發這個程式。你可以選擇直接修改 ```static bool[,] GetNextGenMatrix(bool[,] matrix_current)``` 的內容，在裡面使用你定義的各種 class / object 來完成同樣的任務。因為不再必要填入 TimePassRule(), 因此單元測試只需要通過 ```GetNextGenMatrixTest.cs``` 即可。同樣的，編譯成功執行後能看到細胞演進過程，並且能通過單元測試為過關。

以上是最低的要求 (結果正確，必須通過測試)。改用 OOP 版本的目的是期待用正確的 class 來對應實際的世界，每段 code 都能夠歸屬在合適的 class / instance 身上。正確的對應就能適應現實世界的需求變化，因此是否正確的抽象化 (能否在 ADT 的規範下安全的擴充)，是否正確的封裝 (避免不必要或是錯誤的存取) 都是 OOP 化考量的重點。

以下是 OOP 抽象化定義的建議，若你不確定該怎麼作，可以參考看看:

1. 你要如何描述 "世界" ? 他提供那些操作? 可操作的對象有哪些?
1. 你要如何描述 "細胞" ? 他提供那些操作? 可操作的對象有哪些?
1. 如何 init 這個 "世界" ? 如何從無到有的把每個細胞 "生" 出來，並且擺到合適的地方?
1. 細胞如何 "看" 到周圍有多少其他細胞? 如果細胞的 code 沒有寫好，能不能看到超過它周圍的其他細胞? (例如: 能否看到 5 x 5 的所有細胞狀態? )
1. 承 (4), 如果不行，那你該如何把整個世界的狀態顯示出來? (4) 跟 (5) 的需求是衝突的 ( 只能看到 3x3 vs 看到整個世界地圖 ) 該如何解決?
1. 如果需要，可以引入 "神" 的角色，來收斂管理這些需要特權的行為

這些關係想清楚後，你的 code 應該會出現 "世界"、"細胞"、"神" 這幾個類別，並且確定 "細胞" 無法執行某些只有 "神" 才能執行的動作。

> 如果你是我公司的同仁，那麼通過條件多一個: 請說明你這樣設計 class / object 背後的想法。可以透過 class diagram 或是 UML use case diagram 來說明。

## Milestone 3, OOP + 非固定周期演進

原始康威生命遊戲的規則，是以 "回合" 為基礎。每個細胞在下一個周期時，都會按照同樣的規則，在各自的狀態下演進到下個世代。這邊修改一下題目的規則，如果每個細胞演進到下個世代的時間為變數的話，那這個模擬生命的程式該如何開發?

這邊補充幾個規則，讓題目明確一點:

1. Init() 時，除了指派每格的初始狀態為 true | false 之外，也會指派每次演進的時間週期 (單位為 msec, 範圍為 10 ~ 100 msec)。
1. 外界環境 (matrix) 會以固定的週期 (預設: 10 msec ) 刷新。在每個周期內的細胞，只能感知到上個週期身邊細胞的狀態。  
例如，在 300ms ~ 310ms 時段內，A 細胞看到她周圍細胞狀態，會是 290ms ~ 300ms 期間內的結果。A 細胞在他自身週期到的時候，改變的狀態，其他細胞要在下個週期 ( 310ms ~ 320ms ) 才能感知的到。
1. 如果外界環境週期固定為 10ms, 所有細胞從 5ms 開始，周期也固定為 10ms, 那麼所有的表現都應該跟 milestone 2 一樣才對。

> 這個題目我把規則定義清楚了，不過我還沒想到怎麼驗證... XDD, 單元測試等我想出來就會補上了 :D

過關的標準，必須通過 GameHost2 隨附的單元測試 (還沒寫好...)，同時請務必維持程式碼的精簡。後半段的過關標準我無法量化，同樣的，如果是我公司的同仁，採取當面說明設計想法為準。

## Milestone 4, 大亂鬥

如果你以上三個里程碑都達標的話，我會釋出我的 Milestone 4 題目 (有標準定義的 ICell interface 需要實作)。我將會在相同限制條件下，允許每個參賽者調整部分的參數，一同放到同一個培養皿裡面生活。看看多個世代下去，哪個物種能夠佔據最多的數量? 你無法預測你的競爭對手參數會怎麼調整，只能自己想辦法提高求生機率。

> 題目還沒想好怎麼開，敬請期待 XDD

經過幾番奮鬥，能在眾多競爭者的求生存的情況下，存活到最後一刻的人...
...
...
我沒有獎品可以提供，只能提供口頭獎勵 XDD，請各位加油 :D




----

# 後記

開這個練習題，目的是訓練 team member 物件導向的思考能力。OOP 很強調 interface, 而良好的 interface 是開出良好的 API 的基礎。看過太多用了先進開發工具與框架的工程師，卻設計出很糟糕的 API 有感。

這系列里程碑的設計，其實是有目的的，我背後的用意，依序如下:

1. 就是讓你熟悉經典題目的內容，暖身練習用。
1. 試著用物件的觀念來重新寫一次題目。同時也預先劇透了後面的題目，讓你知道將來有哪些擴充的需求，做出正確的抽象化設計。
1. 加入時間的維度。傳統的程式設計都以單線流程推演為主，加入了時間維度會打破這個思維。我觀察到很多團隊都擅長用排程批次處理問題，而不擅長用平行處理，或是事件觸發的方式來處理同樣的問題，就是不熟悉以時間維度為主的思考方式。這個設計就是希望大家練習這種思考模式，並且將它應用在程式碼的撰寫上。
1. 大亂鬥，單純有競賽感，努力了三個回合後，最後讓大家能在一個共通的 GameHost 上用 code 彼此較量一番。